{

    "ConnectionStrings": {
        "DefaultConnection": "Host=localhost;Database=DBAgriis;Username=postgres;Password=RootPassword123;Port=5432;SSL Mode=Prefer;Trust Server Certificate=true"
        //Pooling=true;Minimum Pool Size=5;Maximum Pool Size=100;Connection Idle Lifetime=300
       /*Use using var conn = new NpgsqlConnection(connectionString); para garantir que a conexão seja devolvida ao pool após o uso.
        Evite abrir conexões desnecessárias ou mantê-las abertas por muito tempo.
        Monitore o pool com ferramentas como pg_stat_activity no PostgreSQL para ver conexões ativas e ociosas.*/
    
    },
    "JwtSettings": {
        "SecretKey": "your-super-secret-key-that-should-be-at-least-32-characters-long",
        "Issuer": "Agriis.Api",
        "Audience": "Agriis.Client",
        "TokenExpirationInDays": 100,
        "RefreshTokenExpirationInDays": 60
    },
    "AwsSettings": {
        "AccessKey": "",
        "SecretKey": "",
        "Region": "us-east-1",
        "S3BucketName": "agriis-files"
    },
    "SerproSettings": {
        "BaseUrl": "https://gateway.apiserpro.serpro.gov.br",
        "ConsumerKey": "",
        "ConsumerSecret": "",
        "TokenUrl": "/token"
    },
    "CurrencySettings": {
        "ApiKey": "",
        "BaseUrl": "https://api.exchangerate-api.com/v4/latest",
        "CacheExpirationMinutes": 60,
        "UpdateIntervalMinutes": 60
    },
    "HangfireSettings": {
        "ConnectionString": "Host=localhost;Database=DBAgriis;Username=postgres;Password=RootPassword123;Port=5432"
    },
    "Serilog": {
        "Using": [
            "Serilog.Sinks.Console",
            "Serilog.Sinks.File",
            "Serilog.Sinks.PostgreSQL",
            "Serilog.Exceptions"
        ],
        "MinimumLevel": {
            "Default": "Information",
            "Override": {
                "Microsoft": "Warning",
                "Microsoft.Hosting.Lifetime": "Information",
                "Microsoft.EntityFrameworkCore": "Warning",
                "System": "Warning",
                "Hangfire": "Information"
            }
        },
        "Enrich": [
            "FromLogContext",
            "WithMachineName",
            "WithEnvironmentName",
            "WithProcessId",
            "WithThreadId",
            "WithExceptionDetails"
        ],
        "Properties": {
            "Application": "Agriis.Api",
            "Environment": "Production"
        },
        "WriteTo": [
            {
                "Name": "Console",
                "Args": {
                    "outputTemplate": "[{Timestamp:HH:mm:ss} {Level:u3}] [{SourceContext}] {Message:lj} {Properties:j}{NewLine}{Exception}"
                }
            },
            {
                "Name": "File",
                "Args": {
                    "path": "logs/agriis-.log",
                    "rollingInterval": "Day",
                    "retainedFileCountLimit": 30,
                    "outputTemplate": "[{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} {Level:u3}] [{SourceContext}] {Message:lj} {Properties:j}{NewLine}{Exception}",
                    "shared": true,
                    "flushToDiskInterval": "00:00:01"
                }
            },
            {
                "Name": "File",
                "Args": {
                    "path": "logs/agriis-errors-.log",
                    "rollingInterval": "Day",
                    "retainedFileCountLimit": 90,
                    "restrictedToMinimumLevel": "Error",
                    "outputTemplate": "[{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} {Level:u3}] [{SourceContext}] {Message:lj} {Properties:j}{NewLine}{Exception}",
                    "shared": true
                }
            }
        ]
    },
    "Logging": {
        "LogLevel": {
            "Default": "Information",
            "Microsoft.AspNetCore": "Warning"
        }
    },
    "AllowedHosts": "*",
    "CorsSettings": {
        "AllowedOrigins": [
            "http://localhost:3000",
            "https://localhost:3000"
        ],
        "AllowedMethods": [
            "GET",
            "POST",
            "PUT",
            "DELETE",
            "OPTIONS"
        ],
        "AllowedHeaders": [
            "*"
        ],
        "AllowCredentials": true
    },
    "HealthChecks": {
        "Enabled": true,
        "DatabaseTimeoutInSeconds": 30,
        "MemoryThresholdMB": 1024,
        "ExternalServicesTimeoutInSeconds": 10
    },
    "RequestLogging": {
        "Enabled": true,
        "LogRequestBody": false,
        "LogResponseBody": false,
        "MaxBodySizeKB": 10,
        "SensitiveHeaders": [
            "Authorization",
            "Cookie",
            "Set-Cookie",
            "X-API-Key",
            "X-Auth-Token"
        ],
        "SensitiveFields": [
            "password",
            "senha",
            "token",
            "secret",
            "key",
            "cpf",
            "cnpj"
        ]
    }
}